document.addEventListener("DOMContentLoaded",(function(){var e,t;e=function(e){1==e?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")},(t=new Image).onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA";const o=document.querySelector("body"),c=document.querySelector(".header__menu"),s=document.querySelector(".header__body"),l=document.querySelectorAll(".header__item>a");c.addEventListener("click",(function(){o.classList.toggle("lock"),c.classList.toggle("active"),s.classList.toggle("active")}));for(let e=0;e<l.length;e++)l[e].addEventListener("click",(function(e){o.classList.remove("lock"),c.classList.remove("active"),s.classList.remove("active"),e.preventDefault(e)}));const n=document.querySelector(".fullscreen__link>a"),r=document.querySelector(".callback"),i=document.querySelector(".popup-form"),a=document.querySelector(".popup-form__close");r.addEventListener("click",(function(e){o.classList.add("lock-form"),i.classList.add("active"),e.preventDefault()})),n.addEventListener("click",(function(e){o.classList.add("lock-form"),i.classList.add("active"),e.preventDefault()})),a.addEventListener("click",(function(){o.classList.remove("lock-form"),i.classList.remove("active")})),document.addEventListener("keydown",(function(e){27===e.which&&(o.classList.remove("lock-form"),i.classList.remove("active"))})),i.addEventListener("click",(function(e){e.target.closest(".popup-form__form")||(o.classList.remove("lock-form"),i.classList.remove("active"))}));const d=document.querySelectorAll(".services-body__link>a"),u=document.querySelectorAll(".services__popup"),m=document.querySelectorAll(".services-popup__back>a"),v=document.querySelectorAll(".services-popup__link>a");for(let e=0;e<d.length;e++)d[e].addEventListener("click",(function(t){null!=u[e]&&(o.classList.add("lock-services"),u[e].classList.add("open"),t.preventDefault())}));for(let e=0;e<m.length;e++)m[e].addEventListener("click",(function(t){o.classList.remove("lock-services"),u[e].classList.remove("open"),t.preventDefault()}));document.addEventListener("keydown",(function(e){if(27==e.which)for(let e=0;e<u.length;e++)o.classList.remove("lock-services"),u[e].classList.remove("open")}));for(let e=0;e<v.length;e++)v[e].addEventListener("click",(function(t){u[e].classList.remove("open"),o.classList.remove("lock-services"),i.classList.add("active"),o.classList.add("lock-form"),t.preventDefault()}));const p=document.querySelectorAll(".gallery__item"),L=document.querySelector(".gallery__popup"),f=document.querySelector(".gallery-popup__close");for(let e=0;e<p.length;e++)p[e].addEventListener("click",(function(){L.classList.add("open"),o.classList.add("lock-gallery"),$(".gallery-popup__items").slick({infinite:!0,slidesToShow:1,adaptiveHeight:!0,initialSlide:e,prevArrow:$(".gallery-popup__button.prev"),nextArrow:$(".gallery-popup__button.next")})}));f.addEventListener("click",(function(){L.classList.remove("open"),o.classList.remove("lock-gallery"),setTimeout((function(){$(".gallery-popup__items").slick("unslick")}),300)})),L.addEventListener("click",(function(e){e.target.closest(".gallery-popup__img img")||e.target.closest(".gallery-popup__close")||e.target.closest(".gallery-popup__button")||(L.classList.remove("open"),o.classList.remove("lock-gallery"),setTimeout((function(){$(".gallery-popup__items").slick("unslick")}),300))})),document.addEventListener("keydown",(function(e){27==e.which&&(L.classList.remove("open"),o.classList.remove("lock-gallery"),setTimeout((function(){$(".gallery-popup__items").slick("unslick")}),300))}));const y=document.querySelector(".header__item #services"),_=document.querySelector(".header__item #gallery"),k=document.querySelector(".header__item #about"),g=document.querySelector(".header__item #contacts"),h=document.querySelector(".services"),S=document.querySelector(".gallery"),w=document.querySelector(".about"),q=document.querySelector(".contacts"),A=document.querySelector(".fullscreen"),b=document.querySelector(".anchor");y.addEventListener("click",(function(){h.scrollIntoView({behavior:"smooth"})})),_.addEventListener("click",(function(){S.scrollIntoView({behavior:"smooth"})})),k.addEventListener("click",(function(){w.scrollIntoView({behavior:"smooth"})})),g.addEventListener("click",(function(){q.scrollIntoView({behavior:"smooth"})})),window.addEventListener("scroll",(function(){window.scrollY>=document.body.offsetHeight&&(b.classList.add("show"),r.classList.add("show")),window.scrollY<document.body.offsetHeight&&(b.classList.remove("show"),r.classList.remove("show"))})),b.addEventListener("click",(function(){A.scrollIntoView({behavior:"smooth"})}))}));
