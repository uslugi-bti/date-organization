document.addEventListener("DOMContentLoaded",(function(){var e,t;e=function(e){1==e?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")},(t=new Image).onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA";const o=document.querySelector("body"),c=document.querySelector(".header__menu"),l=document.querySelector(".header__body"),n=document.querySelectorAll(".header__item>a");c.addEventListener("click",(function(){o.classList.toggle("lock"),c.classList.toggle("active"),l.classList.toggle("active")}));for(let e=0;e<n.length;e++)n[e].addEventListener("click",(function(e){o.classList.remove("lock"),c.classList.remove("active"),l.classList.remove("active"),e.preventDefault(e)}));const s=document.querySelector(".fullscreen__link>a"),i=document.querySelector(".popup-form"),r=document.querySelector(".popup-form__close");s.addEventListener("click",(function(e){o.classList.add("lock-form"),i.classList.add("active"),e.preventDefault()})),r.addEventListener("click",(function(){o.classList.remove("lock-form"),i.classList.remove("active")})),document.addEventListener("keydown",(function(e){27===e.which&&(o.classList.remove("lock-form"),i.classList.remove("active"))})),i.addEventListener("click",(function(e){e.target.closest(".popup-form__form")||(o.classList.remove("lock-form"),i.classList.remove("active"))}));const a=document.querySelectorAll(".services-body__link>a"),d=document.querySelectorAll(".services__popup"),u=document.querySelectorAll(".services-popup__back>a"),m=document.querySelectorAll(".services-popup__link>a");for(let e=0;e<a.length;e++)a[e].addEventListener("click",(function(t){null!=d[e]&&(o.classList.add("lock-services"),d[e].classList.add("open"),t.preventDefault())}));for(let e=0;e<u.length;e++)u[e].addEventListener("click",(function(t){o.classList.remove("lock-services"),d[e].classList.remove("open"),t.preventDefault()}));document.addEventListener("keydown",(function(e){if(27==e.which)for(let e=0;e<d.length;e++)o.classList.remove("lock-services"),d[e].classList.remove("open")}));for(let e=0;e<m.length;e++)m[e].addEventListener("click",(function(t){d[e].classList.remove("open"),o.classList.remove("lock-services"),i.classList.add("active"),o.classList.add("lock-form"),t.preventDefault()}));const v=document.querySelectorAll(".gallery__item"),p=document.querySelector(".gallery__popup"),f=document.querySelector(".gallery-popup__close");for(let e=0;e<v.length;e++)v[e].addEventListener("click",(function(){p.classList.add("open"),o.classList.add("lock-gallery"),$(".gallery-popup__items").slick({infinite:!0,slidesToShow:1,adaptiveHeight:!0,initialSlide:e,prevArrow:$(".gallery-popup__button.prev"),nextArrow:$(".gallery-popup__button.next")})}));f.addEventListener("click",(function(){p.classList.remove("open"),o.classList.remove("lock-gallery"),setTimeout((function(){$(".gallery-popup__items").slick("unslick")}),300)})),p.addEventListener("click",(function(e){e.target.closest(".gallery-popup__img img")||e.target.closest(".gallery-popup__close")||e.target.closest(".gallery-popup__button")||(p.classList.remove("open"),o.classList.remove("lock-gallery"),setTimeout((function(){$(".gallery-popup__items").slick("unslick")}),300))})),document.addEventListener("keydown",(function(e){27==e.which&&(p.classList.remove("open"),o.classList.remove("lock-gallery"),setTimeout((function(){$(".gallery-popup__items").slick("unslick")}),300))}));const L=document.querySelectorAll(".about-item__title h1"),y=document.querySelectorAll(".about__item"),_=[],g=[];for(let e=0;e<L.length;e++){var k=Number(L[e].id);_.push(k),g.push(!1)}var h=function(e,t){let o;requestAnimationFrame((function c(l){o||(o=l);const n=(l-o)/1500;if(n<1){const o=Math.floor(0+(t-0)*n);e.textContent=o,requestAnimationFrame(c)}else e.textContent=t}))},w=function(){for(let t=0;t<y.length;t++){var e=y[t].getBoundingClientRect().top;e<window.innerHeight-y[t].clientHeight/2&&e>0&&!g[t]&&(L[t].classList.add("active"),h(L[t],_[t]),g[t]=!0)}};window.addEventListener("load",w),window.addEventListener("scroll",w);const S=document.querySelector(".header__item #services"),A=document.querySelector(".header__item #gallery"),q=document.querySelector(".header__item #about"),b=document.querySelector(".header__item #contacts"),E=document.querySelector(".services"),I=document.querySelector(".gallery"),C=document.querySelector(".about"),D=document.querySelector(".contacts"),V=document.querySelector(".fullscreen"),H=document.querySelector(".anchor");S.addEventListener("click",(function(){E.scrollIntoView({behavior:"smooth"})})),A.addEventListener("click",(function(){I.scrollIntoView({behavior:"smooth"})})),q.addEventListener("click",(function(){C.scrollIntoView({behavior:"smooth"})})),b.addEventListener("click",(function(){D.scrollIntoView({behavior:"smooth"})})),window.addEventListener("scroll",(function(){window.scrollY>=document.body.offsetHeight&&H.classList.add("show"),window.scrollY<document.body.offsetHeight&&H.classList.remove("show")})),H.addEventListener("click",(function(){V.scrollIntoView({behavior:"smooth"})}))}));